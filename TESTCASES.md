# Тест-кейсы для микросервиса объявлений (Avito QA Internship 2025)

| ID      | Название теста                                     | Шаги + Тестовые данные                                                                                                                                                                                                                              | Ожидаемый результат                                                                                                                                                                    | Фактический результат                                                                                                                                                                                    | Тип         | Статус | Комментарий                                                                                               |
|---------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|--------|-----------------------------------------------------------------------------------------------------------|
| TC-001  | Успешное создание объявления                       | `POST /api/1/item`<br>```json<br>{ "sellerID": 123456, "name": "Телефон Xiaomi", "price": 15000, "statistics": { "likes": 10, "viewCount": 50, "contacts": 3 } }```                                                                      | 200 OK<br>```{"status": "Сохранили объявление - <uuid>"}```<br>UUID — 36 символов                                                                                                       | Совпадает                                                                                                                                                                                        | Позитивный  | PASS   | —                                                                                                         |
| TC-002  | Ошибка при отсутствии sellerID                     | `POST /api/1/item`<br>Тело без `sellerID`                                                                                                                                                                                                           | 400 Bad Request<br>```{"result": {"message": "поле sellerID обязательно", "messages": {}}, "status": "400"}```                                                                          | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |
| TC-003a | Отрицательная цена + нулевые statistics            | `POST /api/1/item`<br>```json<br>{ "sellerID": 222222, "name": "Товар", "price": -100, "statistics": { "likes": 0, "viewCount": 0, "contacts": 0 } }```                                                                                     | 400 Bad Request (ожидалось из-за price < 0)                                                                                                                                            | 400 Bad Request<br>```{"result": {"message": "поле likes обязательно", "messages": {}}, "status": "400"}```                                                                                 | Негативный  | FAIL   | БАГ №1: цена не валидируется, ошибка маскируется другой валидацией                                      |
| TC-003b | Отрицательная цена + ненулевые statistics          | `POST /api/1/item`<br>```json<br>{ "sellerID": 222222, "name": "Товар", "price": -100, "statistics": { "likes": 1, "viewCount": 1, "contacts": 1 } }```                                                                                     | 400 Bad Request (цена < 0 недопустима)                                                                                                                                                 | 200 OK — объявление успешно создаётся!                                                                                                                                                           | Негативный  | FAIL   | БАГ №2: отрицательная цена проходит при ненулевых статистиках                               |
| TC-004  | Пустое имя товара (name = "")                      | `POST /api/1/item`<br>```json<br>{ "sellerID": 555555, "name": "", "price": 500, "statistics": { "likes": 0, "viewCount": 0, "contacts": 0 } }```                                                                                          | 400 Bad Request<br>```{"result": {"message": "поле name обязательно", "messages": {}}, "status": "400"}```                                                                              | Совпадает полностью                                                                                                                                                                              | Негативный  | PASS   | —                                                                                                         |
| TC-005  | Отсутствует объект statistics                      | `POST /api/1/item`<br>```json<br>{ "sellerID": 111111, "name": "Товар", "price": 5000 }```                                                                                                                                                        | 400 Bad Request с понятным сообщением о пропущенном statistics                                                                                                                         | 400 Bad Request<br>```{"result": {"message": "поле likes обязательно", "messages": {}}, "status": "400"}``` — сообщение не соответствует реальной проблеме                                 | Негативный  | FAIL   | БАГ №3: некорректное сообщение об ошибке (должно быть про statistics, а не likes)                      |
| TC-006  | Неверный тип sellerID (строка вместо числа)        | `POST /api/1/item`<br>```json<br>{ "sellerID": "abc", "name": "Товар", "price": 500, "statistics": { "likes": 1, "viewCount": 2, "contacts": 3 } }```                                                                                       | 400 Bad Request с понятной ошибкой типа sellerID                                                                                                                                       | 400 Bad Request<br>```{"status": "не передано тело объявления"}``` — сообщение нерелевантно                                                                                                   | Негативный  | FAIL   | БАГ №4: неинформативная ошибка при неверном типе sellerID                                               |
| TC-007  | Успешное получение объявления по ID                | 1. Создать объявление (TC-001)<br>2. `GET /api/1/item/<uuid>`                                                                                                                                                                                       | 200 OK<br>Ответ — массив с одним объектом, содержащим все поля (id, name, price, sellerId, statistics, createdAt)                                                                      | Совпадает                                                                                                                                                                 | Позитивный  | PASS   | —                                                    |
| TC-008  | Получение несуществующего объявления               | `GET /api/1/item/99999999-9999-9999-9999-999999999999`                                                                                                                                                                                             | 404 Not Found<br>```{"result": {"message": "item <id> not found", "messages": null}, "status": "404"}```                                                                               | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |
| TC-009  | Некорректный формат UUID в item/{id}               | `GET /api/1/item/abc123`                                                                                                                                                                                                                            | 400 Bad Request<br>```{"result": {"message": "ID айтема не UUID: abc123", "messages": {}}, "status": "400"}```                                                                        | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |
| TC-010  | Получение всех объявлений продавца                 | 1. Создать ≥2 объявления с sellerID = X<br>2. `GET /api/1/{X}/item`                                                                                                                                                                                 | 200 OK<br>Массив объявлений, у всех `sellerId` = X                                                                                                                                     | Совпадает                                                                                                                                                                                        | Позитивный  | PASS   | —                                                                                                         |
| TC-011  | Неверный формат sellerID в маршруте продавца       | `GET /api/1/abc/item`                                                                                                                                                                                                                               | 400 Bad Request<br>```{"result": {"message": "передан некорректный идентификатор продавца", "messages": {}}, "status": "400"}```                                                     | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |
| TC-012  | Успешное получение статистики                      | 1. Создать объявление<br>2. `GET /api/1/statistic/<uuid>`                                                                                                                                                                                           | 200 OK<br>Массив с объектом статистики: `{ "likes": 10, "viewCount": 50, "contacts": 3 }`                                                                                               | Совпадает                                                                                                                                                                                        | Позитивный  | PASS   | —                                                                                                         |
| TC-013  | Статистика несуществующего объявления              | `GET /api/1/statistic/99999999-9999-9999-9999-999999999999`                                                                                                                                                                                         | 404 Not Found<br>```{"result": {"message": "statistic <id> not found", "messages": null}, "status": "404"}```                                                                         | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |
| TC-014  | Некорректный ID в статистике                       | `GET /api/1/statistic/aaa111`                                                                                                                                                                                                                       | 400 Bad Request<br>```{"result": {"message": "передан некорректный идентификатор объявления", "messages": {}}, "status": "400"}```                                                  | Совпадает                                                                                                                                                                                        | Негативный  | PASS   | —                                                                                                         |

## Итоговая статистика
- Всего тест-кейсов: **14**
- PASS: **10**
- FAIL (найдены баги): **4** (оформлены в `BUGS.md`)
